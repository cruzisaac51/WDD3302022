/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _quiz_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./quiz.js */ \"./quiz.js\");\n\nvar url = 'https://spbooks.github.io/jsninja2/questions.json';\nfetch(url).then(function (res) {\n  return res.json();\n}).then(function (quiz) {\n  _quiz_js__WEBPACK_IMPORTED_MODULE_0__.view.start.addEventListener('click', function () {\n    return _quiz_js__WEBPACK_IMPORTED_MODULE_0__.game.start(quiz.questions);\n  }, false);\n  _quiz_js__WEBPACK_IMPORTED_MODULE_0__.view.response.addEventListener('click', function (event) {\n    return _quiz_js__WEBPACK_IMPORTED_MODULE_0__.game.check(event);\n  }, false);\n});\n\n//# sourceURL=webpack:///./main.js?");

/***/ }),

/***/ "./quiz.js":
/*!*****************!*\
  !*** ./quiz.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"game\": () => (/* binding */ game),\n/* harmony export */   \"view\": () => (/* binding */ view)\n/* harmony export */ });\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities.js */ \"./utilities.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nvar view = {\n  score: document.querySelector('#score strong'),\n  question: document.querySelector('#question'),\n  result: document.querySelector('#result'),\n  info: document.querySelector('#info'),\n  start: document.querySelector('#start'),\n  response: document.querySelector('#response'),\n  timer: document.querySelector('#timer strong'),\n  hiScore: document.querySelector('#hiScore strong'),\n  render: function render(target, content, attributes) {\n    for (var key in attributes) {\n      target.setAttribute(key, attributes[key]);\n    }\n\n    target.innerHTML = content;\n  },\n  show: function show(element) {\n    element.style.display = 'block';\n  },\n  hide: function hide(element) {\n    element.style.display = 'none';\n  },\n  setup: function setup() {\n    this.show(this.question);\n    this.show(this.response);\n    this.show(this.result);\n    this.hide(this.start);\n    this.render(this.score, game.score);\n    this.render(this.result, '');\n    this.render(this.info, '');\n    this.render(this.hiScore, game.hiScore());\n  },\n  teardown: function teardown() {\n    this.hide(this.question);\n    this.hide(this.response);\n    this.show(this.start);\n    this.render(this.hiScore, game.hiScore());\n  },\n  buttons: function buttons(array) {\n    return array.map(function (value) {\n      return \"<button>\".concat(value, \"</button>\");\n    }).join('');\n  }\n};\nvar game = {\n  start: function start(quiz) {\n    console.log('start() invoked');\n    this.score = 0;\n    this.questions = _toConsumableArray(quiz);\n    view.setup();\n    this.secondsRemaining = 20;\n    this.timer = setInterval(this.countdown, 1000);\n    this.ask();\n  },\n  countdown: function countdown() {\n    game.secondsRemaining--;\n    view.render(view.timer, game.secondsRemaining);\n\n    if (game.secondsRemaining <= 0) {\n      game.gameOver();\n    }\n  },\n  ask: function ask(name) {\n    console.log('ask() invoked');\n\n    if (this.questions.length > 2) {\n      (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this.questions);\n      this.question = this.questions.pop();\n      var options = [this.questions[0].realName, this.questions[1].realName, this.question.realName];\n      (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(options);\n      var question = \"What is \".concat(this.question.name, \"'s real name?\");\n      view.render(view.question, question);\n      view.render(view.response, view.buttons(options));\n    } else {\n      this.gameOver();\n    }\n  },\n  check: function check(event) {\n    console.log('check(event) invoked');\n    var response = event.target.textContent;\n    var answer = this.question.realName;\n\n    if (response === answer) {\n      console.log('correct');\n      view.render(view.result, 'Correct!', {\n        'class': 'correct'\n      });\n      this.score++;\n      view.render(view.score, this.score);\n    } else {\n      console.log('wrong');\n      view.render(view.result, \"Wrong! The correct answer was \".concat(answer), {\n        'class': 'wrong'\n      });\n    }\n\n    this.ask();\n  },\n  gameOver: function gameOver() {\n    console.log('gameOver() invoked');\n    view.render(view.info, \"Game Over, you scored \".concat(this.score, \" point\").concat(this.score !== 1 ? 's' : ''));\n    view.teardown();\n    clearInterval(this.timer);\n  },\n  hiScore: function hiScore() {\n    var hi = localStorage.getItem('highScore') || 0;\n    if (this.score > hi || hi === 0) localStorage.setItem('highScore', this.score);\n    return localStorage.getItem('highScore');\n  }\n};\n\n\n//# sourceURL=webpack:///./quiz.js?");

/***/ }),

/***/ "./utilities.js":
/*!**********************!*\
  !*** ./utilities.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"random\": () => (/* binding */ random),\n/* harmony export */   \"shuffle\": () => (/* binding */ shuffle)\n/* harmony export */ });\nfunction random(a) {\n  var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n  // if only 1 argument is provided, we need to swap the values of a and b\n  if (b === 1) {\n    var _ref = [b, a];\n    a = _ref[0];\n    b = _ref[1];\n  }\n\n  return Math.floor((b - a + 1) * Math.random()) + a;\n}\n\nfunction shuffle(array) {\n  for (var i = array.length; i; i--) {\n    var j = random(i) - 1;\n    var _ref2 = [array[j], array[i - 1]];\n    array[i - 1] = _ref2[0];\n    array[j] = _ref2[1];\n  }\n}\n\n\n\n//# sourceURL=webpack:///./utilities.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./main.js");
/******/ 	
/******/ })()
;